.. _0-10-0:

0.10.0 -- UNDER DEVELOPMENT
===========================
*11/30/2016*

Graphite 0.10.0 is now available for usage. This marks the first release of Graphite's main line in many years. There are two new *optional* components available: Carbonate, a suite of tools for managing and rebalancing Whisper files, and Ceres, an experimental new time-series database intended to supplant Whisper in a future release.

Source bundles are available from GitHub:

* https://github.com/graphite-project/graphite-web/archive/0.10.0.tar.gz
* https://github.com/graphite-project/carbon/archive/0.10.0.tar.gz
* https://github.com/graphite-project/whisper/archive/0.10.0.tar.gz
* https://github.com/graphite-project/carbonate/archive/0.10.0.tar.gz
* https://github.com/graphite-project/ceres/archive/0.10.0.tar.gz

Graphite can also be installed from `PyPI <http://pypi.python.org/>`_ via
`pip <http://www.pip-installer.org/en/latest/index.html>`_. PyPI bundles are here:

* http://pypi.python.org/pypi/graphite-web/
* http://pypi.python.org/pypi/carbon/
* http://pypi.python.org/pypi/whisper/
* http://pypi.python.org/pypi/carbonate/
* http://pypi.python.org/pypi/ceres/

Upgrading
---------
Graphite-Web requires Python 2.6 or newer and Django version 1.9. Carbon requires Twisted version 13.2 or newer. There are a number of new features in this release, but we've been careful to avoid any behaviorial regressions in the default settings files. You'll want to review the new Graphite-Web and Carbon service options in the ``local_settings.py.example`` and ``carbon.conf.example`` files, respectively, before merging those into your production configurations.

If you're not already running from the *master* branch, Graphite-Web's application database will need to be upgraded . It's a good idea to backup the database before proceeding with the migration. The following steps will upgrade a SQLite database:

.. code-block:: none

  sudo cp /opt/graphite/storage/graphite.db \
        /opt/graphite/storage/graphite.db.backup-`date +%Y%m%d_%H%M%S`
  sudo PYTHONPATH=/opt/graphite/webapp django-admin.py migrate \
        --noinput --settings=graphite.settings --run-syncdb


Security Notes
--------------
No known security issues.


New Render Functions
--------------------

See the :doc:`functions documentation <../functions>` for more information.

* ``aggregateLine``
* ``applyByNode``
* ``averageOutsidePercentile``
* ``delay``
* ``fallbackSeries``
* ``grep``
* ``groupByNodes``
* ``integralByInterval``
* ``interpolate``
* ``invert``
* ``isNonNull``
* ``linearRegression``
* ``linearRegressionAnalysis``
* ``mapSeries``
* ``multiplySeriesWithWildcards``
* ``offsetToZero``
* ``pow``
* ``reduceSeries``
* ``removeBetweenPercentile``
* ``removeEmptySeries``
* ``sortByTotal``
* ``squareRoot``
* ``timeSlice``
* ``verticalLine``
* ``weightedAverage``


New Display Formats
-------------------

* ``pdf``
* ``dygraph``
* ``rickshaw``


New Graph Parameters
--------------------

* ``hideNullFromLegend``
* ``hideXAxis``
* ``noNullPoints``
* ``pieLabels``
* ``valueLabels``
* ``valueLabelsColor``
* ``valueLabelsMin``


Bug Fixes
---------

Graphite-Web
^^^^^^^^^^^^

Carbon
^^^^^^


Other Changes
-------------

Graphite-Web
^^^^^^^^^^^^

* New Graphite logo in the Composer banner.

* Pluggable storage finders have been added. This allows graphite to fetch
  data from other datastores than Whisper or Ceres. See the :doc:`storage
  finder docs <../storage-backends>` for more information.

* The search index file is now generated with the ``build-index`` command that
  has been rewritten in Python. ``build-index.sh`` is still available but is
  just an alias to ``build-index``.

* The ``CONTENT_DIR`` setting has been replaced with ``STATIC_ROOT`` and now
  allows to easily serve non-graphite static files such as Django admin's. See
  the :doc:`configuration docs <../config-local-settings>` for usage
  instructions.

* `Tox`_ is now used for running the tests locally across the supported Django
  and Python version combinations. A :doc:`section about working on
  graphite-web <../development>` has been added to the documentation.

* Python's own log rotation can be disabled using the `LOG_ROTATION` setting. This
  is useful when running multiple WSGI workers.

* The events API now requires ``tags`` to be an array when creating tagged
  events. Previous versions only accepted string attributes. Tags are also
  serialized as arrays.

Carbon
^^^^^^


.. _Tox: https://testrun.org/tox/latest/

